# Firestore 인덱스 설정 가이드

## 오류 메시지

"The query requires an index" 오류가 발생하는 경우, Firestore에서 복합 인덱스를 생성해야 합니다.

## 해결 방법

### 방법 1: 자동 인덱스 생성 (권장)

오류 메시지에 포함된 링크를 클릭하면 자동으로 인덱스가 생성됩니다:

```
https://console.firebase.google.com/v1/r/project/fishub-group-buy/firestore/indexes?create_composite=...
```

링크를 클릭하면 Firebase Console에서 인덱스 생성 페이지로 이동하며, "인덱스 만들기" 버튼을 클릭하면 자동으로 인덱스가 생성됩니다.

### 방법 2: 수동 인덱스 생성

1. [Firebase Console](https://console.firebase.google.com)에 접속합니다.
2. 프로젝트를 선택합니다.
3. 왼쪽 메뉴에서 **"Firestore Database"**를 클릭합니다.
4. **"인덱스"** 탭을 클릭합니다.
5. **"인덱스 만들기"** 버튼을 클릭합니다.
6. 다음 정보를 입력합니다:
   - 컬렉션 ID: `products`
   - 필드 추가:
     - 필드: `status`, 정렬: 오름차순
     - 필드: `createdAt`, 정렬: 내림차순
7. **"만들기"** 버튼을 클릭합니다.

### 방법 3: 코드 수정 (임시 해결)

현재 코드는 이미 수정되어 클라이언트에서 정렬하도록 변경되었습니다. 이 방법은 인덱스 없이도 작동하지만, 데이터가 많아지면 성능에 영향을 줄 수 있습니다.

## 인덱스 생성 확인

인덱스 생성 후:
1. 인덱스가 생성되는 데 몇 분이 걸릴 수 있습니다.
2. 인덱스 상태가 "사용 가능"으로 변경될 때까지 기다려주세요.
3. 브라우저를 새로고침하고 다시 시도해주세요.

## 참고

- 인덱스는 한 번만 생성하면 됩니다.
- 프로덕션 환경에서는 반드시 인덱스를 생성하는 것을 권장합니다.
- 현재 코드는 인덱스 없이도 작동하도록 수정되었지만, 성능을 위해 인덱스 생성이 좋습니다.

